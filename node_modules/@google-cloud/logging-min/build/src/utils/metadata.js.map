{"version":3,"sources":["../../../src/utils/metadata.ts"],"names":["fs","require","gcpMetadata","google_auth_library_1","util_1","readFile","promisify","zoneFromQualifiedZone","qualified","split","pop","regionFromQualifiedZone","zone","region","undefined","slice","lastIndexOf","async","getCloudFunctionDescriptor","let","process","env","GOOGLE_CLOUD_REGION","FUNCTION_REGION","qualifiedZone","await","instance","type","labels","function_name","K_SERVICE","FUNCTION_NAME","exports","getCloudRunDescriptor","location","service_name","revision_name","K_REVISION","configuration_name","K_CONFIGURATION","getGAEDescriptor","module_id","GAE_SERVICE","GAE_MODULE_NAME","version_id","GAE_VERSION","getGCEDescriptor","idResponse","zoneResponse","instance_id","toString","KUBERNETES_NAMESPACE_ID_PATH","getGKEDescriptor","resp","namespace","err","cluster_name","namespace_name","pod_name","HOSTNAME","container_name","CONTAINER_NAME","getGlobalDescriptor","getDefaultResource","auth","getEnv","GCPEnv","KUBERNETES_ENGINE","catch","APP_ENGINE","CLOUD_FUNCTIONS","CLOUD_RUN","COMPUTE_ENGINE","detectServiceContext","service","version","GAE_MODULE_VERSION"],"mappings":"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"}