{"version":3,"sources":["../../src/entry.ts"],"names":["EventId","require","extend","common_1","http_request_1","context_1","eventId","exports","INSERT_ID_KEY","LABELS_KEY","OPERATION_KEY","SOURCE_LOCATION_KEY","SPAN_ID_KEY","TRACE_KEY","TRACE_SAMPLED_KEY","Entry","constructor","metadata","data","this","timestamp","Date","insertId","new","toJSON","options","projectId","entry","isObject","jsonPayload","objToStruct","removeCircular","stringify","textPayload","toNanosAndSecondsObj","zuluToDateObj","req","httpRequest","isRawHttpRequest","makeHttpRequestData","traceContext","extractTraceFromHeaders","trace","spanId","traceSampled","undefined","toStructuredJSON","useMessageField","meta","operation","sourceLocation","labels","validKeys","let","Object","assign","protoPayload","message","JSON","rawReq","getOrInjectContext","fromApiResponse_","payload","structToObj","serializedEntry","ms","Number","seconds","nanos","value","prototype","toString","call"],"mappings":"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"}