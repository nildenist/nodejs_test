{"version":3,"sources":["../../src/log.ts"],"names":["promisify_1","require","dotProp","extend","entry_1","instrumentation_1","log_common_1","Log","constructor","logging","name","options","this","formattedName_","formatLogName","projectId","removeCircular_","removeCircular","maxEntrySize","split","pop","jsonFieldsToTruncate","undefined","filteredList","filter","str","includes","startsWith","uniqueSet","Set","Array","from","concat","defaultWriteDeleteCallback","partialSuccess","_a","alert","entry","write","assignSeverityToEntries","critical","debug","delete","gaxOptions","await","auth","getProjectId","reqOpts","logName","loggingService","deleteLog","emergency","metadataOrData","data","let","metadata","Object","prototype","hasOwnProperty","call","error","getEntries","opts","getEntriesStream","log","tailEntries","info","notice","warning","setProjectId","resource","getOrSetResource","populateInstrumentationInfo","decoratedEntries","decorateEntries","truncateEntries","entries","_b","maxRetries","_c","writeLogEntries","labels","snakecaseKeys","setDetectedResource","detectedResource","map","Entry","toJSON","forEach","payloadSize","JSON","stringify","length","delta","textPayload","slice","Math","max","field","msg","get","set","min","assignSeverityToEntries_","severity","formatName_","exports","callbackifyAll","exclude"],"mappings":"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"}